<div class="edit-form">
  <h2 appBigtitle>Editar Estudiante</h2>

  <form [formGroup]="searchForm" (ngSubmit)="onSearch()" class="form">
    <div class="form-group">
      <label for="dni">Buscar por DNI:</label>
      <input type="number" id="dni" formControlName="dni" placeholder="Ingrese el DNI del estudiante" min="0" step="1">
      <div *ngIf="searchForm.get('dni')?.invalid && searchForm.get('dni')?.touched" class="error">
        El DNI es requerido, y debe tener 7 u 8 dígitos
      </div>
    </div>

    <button type="submit" [disabled]="searchForm.invalid" class="boton-submit">Buscar</button>
    <button type="button" (click)="onReset()" class="boton-reset">Limpiar</button>
  </form>

  <form *ngIf="selectedStudent" [formGroup]="editForm" (ngSubmit)="onEdit()" class="form">
    <div class="form-group">
      <label for="name">Nombre:</label>
      <input type="text" id="name" formControlName="name" placeholder="Editar nombre">
      <div *ngIf="editForm.get('name')?.invalid && editForm.get('name')?.touched" class="error">
        El nombre es requerido
      </div>
    </div>

    <div class="form-group">
      <label for="surname">Apellido:</label>
      <input type="text" id="surname" formControlName="surname" placeholder="Editar apellido">
      <div *ngIf="editForm.get('surname')?.invalid && editForm.get('surname')?.touched" class="error">
        El apellido es requerido
      </div>
    </div>

    <div class="form-group">
      <label for="age">Edad:</label>
      <input type="number" id="age" formControlName="age" placeholder="Editar edad">
      <div *ngIf="editForm.get('age')?.invalid && editForm.get('age')?.touched" class="error">
        La edad es requerida y debe ser mayor a 0
      </div>
    </div>

    <div class="form-group">
      <label for="average">Promedio:</label>
      <input type="number" id="average" formControlName="average" placeholder="Editar promedio" min="0" max="10"
        step="0.01" />
      <div *ngIf="editForm.get('average')?.invalid && editForm.get('average')?.touched" class="error">
        El promedio debe ser un número entre 0 y 10 con hasta 2 decimales
      </div>
    </div>


    <button type="submit" [disabled]="editForm.invalid" class="boton-submit">Guardar Cambios</button>
    <button type="button" (click)="onReset()" class="boton-reset">Cancelar</button>
  </form>
</div>